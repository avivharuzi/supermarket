<form [formGroup]="registerForm" (ngSubmit)="onSubmit()" autocomplete="off" novalidate>
  <div class="jumbotron bg-primary p-3 mb-3 text-white text-center">
    <h3>Regiser</h3>
  </div>
  <app-message [message]="registerMessage" [type]="messageType"></app-message>
  <div formGroupName="userDetails" *ngIf="step === 1" class="mt-5">
    <div class="form-group">
      <label>Identity Card</label>
      <input type="number" formControlName="identityCard" [ngClass]="getStatus('userDetails', 'identityCard')" class="form-control" placeholder="Identity Card">
      <app-error-form [control]="getControl('userDetails', 'identityCard')"></app-error-form>
    </div>
    <div class="form-group">
      <label>Email</label>
      <input type="email" formControlName="email" [ngClass]="getStatus('userDetails', 'email')" class="form-control" placeholder="Email">
      <app-error-form [control]="getControl('userDetails', 'email')"></app-error-form>
    </div>
    <div class="form-group">
      <label>Password</label>
      <input type="password" formControlName="password" [ngClass]="getStatus('userDetails', 'password')" class="form-control" placeholder="Password">
      <app-error-form [control]="getControl('userDetails', 'password')"></app-error-form>
    </div>
    <div class="form-group">
      <label>Confirm Password</label>
      <input type="password" formControlName="confirmPassword" [ngClass]="getStatus('userDetails', 'confirmPassword')" class="form-control" placeholder="Confirm Password">
      <app-error-form [control]="getControl('userDetails', 'confirmPassword')"></app-error-form>
    </div>
  </div>
  <div formGroupName="personalDetails" *ngIf="step === 2" class="mt-5">
    <div class="form-group">
      <label>First Name</label>
      <input type="text" formControlName="firstname" [ngClass]="getStatus('personalDetails', 'firstname')" class="form-control" placeholder="First Name">
      <app-error-form [control]="getControl('personalDetails', 'firstname')"></app-error-form>
    </div>
    <div class="form-group">
      <label>Last Name</label>
      <input type="text" formControlName="lastname" [ngClass]="getStatus('personalDetails', 'lastname')" class="form-control" placeholder="Last Name">
      <app-error-form [control]="getControl('personalDetails', 'lastname')"></app-error-form>
    </div>
    <div class="form-group">
      <label>City</label>
      <input type="text" formControlName="city" [ngClass]="getStatus('personalDetails', 'city')" class="form-control" placeholder="City">
      <app-error-form [control]="getControl('personalDetails', 'city')"></app-error-form>
    </div>
    <div class="form-group">
      <label>Street</label>
      <input type="text" formControlName="street" [ngClass]="getStatus('personalDetails', 'street')" class="form-control" placeholder="Street">
      <app-error-form [control]="getControl('personalDetails', 'street')"></app-error-form>
    </div>
  </div>
  <div class="mt-5" style="overflow:auto;">
    <div class="float-right">
      <button *ngIf="step > 1" type="button" (click)="back()" class="btn btn-secondary">Previous</button>
      <button *ngIf="step !== 2" type="button" (click)="next()" class="btn btn-success">Next</button>
      <input *ngIf="step === 2" class="btn btn-success" type="submit" value="Submit">
    </div>
  </div>
  <div class="text-center mt-5">
    <span class="step" [ngClass]="{ 'active': step === 1, 'finish': registerForm.controls['userDetails'].valid }"></span>
    <span class="step" [ngClass]="{ 'active': step === 2, 'finish': registerForm.controls['personalDetails'].valid }"></span>
  </div>
</form>
